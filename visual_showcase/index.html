<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>IIR2D Signal Showcase</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-a: #05080f;
      --bg-b: #101923;
      --bg-c: #172839;
      --line: rgba(151, 199, 241, 0.25);
      --ink-a: #ebf4ff;
      --ink-b: #afc5dc;
      --ink-c: #7693b0;
      --accent-cyan: #5de0e8;
      --accent-gold: #ffcb7c;
      --accent-red: #ff7b6f;
      --panel: rgba(8, 19, 31, 0.86);
      --panel-soft: rgba(17, 35, 52, 0.72);
      --radius-lg: 22px;
      --radius-md: 14px;
      --shadow: 0 22px 60px rgba(0, 0, 0, 0.42);
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      min-height: 100%;
      color: var(--ink-a);
      background:
        radial-gradient(1200px 500px at -12% 0%, rgba(255, 123, 111, 0.16), transparent 65%),
        radial-gradient(1000px 500px at 115% -5%, rgba(93, 224, 232, 0.2), transparent 70%),
        linear-gradient(180deg, var(--bg-c) 0%, var(--bg-b) 48%, var(--bg-a) 100%);
      font-family: "Space Grotesk", "Segoe UI", sans-serif;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
      background-image:
        linear-gradient(to right, rgba(117, 160, 197, 0.08) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(117, 160, 197, 0.08) 1px, transparent 1px);
      background-size: 40px 40px;
      mask-image: radial-gradient(circle at 50% 38%, rgba(0, 0, 0, 0.78), transparent 78%);
    }

    .page {
      width: min(1180px, calc(100% - 2rem));
      margin: 0 auto;
      padding: 1.4rem 0 3rem;
    }

    .hero {
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      padding: clamp(1.2rem, 2vw, 2rem);
      background:
        linear-gradient(118deg, rgba(14, 34, 51, 0.96), rgba(8, 18, 31, 0.95) 58%),
        radial-gradient(500px 200px at 89% 12%, rgba(255, 203, 124, 0.2), transparent 70%);
      box-shadow: var(--shadow);
      animation: fade-up 700ms ease both;
    }

    .eyebrow {
      margin: 0;
      color: var(--accent-cyan);
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font: 600 0.76rem "IBM Plex Mono", monospace;
    }

    h1 {
      margin: 0.45rem 0 0.8rem;
      font-size: clamp(1.95rem, 5.8vw, 4.2rem);
      line-height: 0.93;
      letter-spacing: -0.03em;
      max-width: 11ch;
    }

    .lead {
      margin: 0;
      max-width: 74ch;
      color: var(--ink-b);
      font-size: clamp(1rem, 1.7vw, 1.2rem);
      line-height: 1.55;
    }

    .meta {
      margin-top: 0.95rem;
      border-top: 1px dashed var(--line);
      padding-top: 0.85rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem 1rem;
      color: var(--ink-c);
      font: 400 0.78rem "IBM Plex Mono", monospace;
    }

    .kpis {
      margin-top: 1.1rem;
      display: grid;
      gap: 0.7rem;
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }

    .kpi {
      border: 1px solid var(--line);
      border-radius: var(--radius-md);
      background: var(--panel-soft);
      padding: 0.85rem;
      animation: fade-up 700ms ease both;
    }

    .kpi:nth-child(2) { animation-delay: 80ms; }
    .kpi:nth-child(3) { animation-delay: 140ms; }
    .kpi:nth-child(4) { animation-delay: 200ms; }

    .kpi .v {
      margin: 0;
      font-size: clamp(1.3rem, 2.1vw, 2rem);
      line-height: 1.02;
      color: var(--accent-gold);
      font-weight: 700;
    }

    .kpi .l {
      margin-top: 0.35rem;
      color: var(--ink-c);
      font: 600 0.69rem "IBM Plex Mono", monospace;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .section {
      margin-top: 1.15rem;
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      background: var(--panel);
      box-shadow: var(--shadow);
      overflow: hidden;
      animation: fade-up 760ms ease both;
    }

    .section-head {
      margin: 0;
      padding: 0.92rem 1rem;
      border-bottom: 1px solid var(--line);
      color: var(--ink-c);
      font: 600 0.78rem "IBM Plex Mono", monospace;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .theater {
      padding: 1rem;
      display: grid;
      gap: 0.95rem;
      grid-template-columns: 280px 1fr;
      align-items: start;
    }

    .control-stack {
      display: grid;
      gap: 0.8rem;
    }

    .panel {
      border: 1px solid var(--line);
      border-radius: var(--radius-md);
      background: rgba(14, 29, 45, 0.74);
      padding: 0.68rem;
    }

    .label {
      display: block;
      margin-bottom: 0.38rem;
      color: var(--ink-c);
      font: 600 0.68rem "IBM Plex Mono", monospace;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .tabs {
      display: grid;
      gap: 0.5rem;
    }

    .tab {
      width: 100%;
      border: 1px solid var(--line);
      border-radius: 10px;
      padding: 0.58rem 0.62rem;
      background: rgba(7, 20, 32, 0.76);
      color: var(--ink-b);
      text-align: left;
      font: 500 0.91rem "Space Grotesk", sans-serif;
      cursor: pointer;
      transition: border-color 160ms ease, transform 160ms ease, background 160ms ease;
    }

    .tab:hover {
      transform: translateY(-1px);
      border-color: rgba(93, 224, 232, 0.55);
    }

    .tab.active {
      border-color: rgba(93, 224, 232, 0.9);
      background: rgba(15, 43, 61, 0.8);
      color: var(--ink-a);
    }

    .mode-row {
      display: flex;
      gap: 0.4rem;
      flex-wrap: wrap;
    }

    .mode {
      border: 1px solid var(--line);
      border-radius: 999px;
      background: rgba(7, 20, 32, 0.76);
      color: var(--ink-b);
      padding: 0.38rem 0.68rem;
      font: 600 0.73rem "IBM Plex Mono", monospace;
      cursor: pointer;
    }

    .mode.active {
      border-color: rgba(255, 203, 124, 0.95);
      color: #fff2dc;
      background: rgba(90, 64, 28, 0.38);
    }

    input[type="range"] {
      width: 100%;
      accent-color: var(--accent-cyan);
    }

    .note {
      margin: 0.2rem 0 0;
      color: var(--ink-b);
      font-size: 0.86rem;
      line-height: 1.45;
    }

    .stage {
      border: 1px solid var(--line);
      border-radius: var(--radius-md);
      overflow: hidden;
      background: #020810;
      position: relative;
      aspect-ratio: 1 / 1;
      min-height: 380px;
    }

    .stage img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      image-rendering: auto;
      opacity: 0;
      transition: opacity 170ms ease;
    }

    .stage img.on {
      opacity: 1;
    }

    .split-layer {
      clip-path: inset(0 45% 0 0);
    }

    .split-line {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 55%;
      width: 2px;
      transform: translateX(-1px);
      background: linear-gradient(180deg, var(--accent-red), var(--accent-cyan));
      box-shadow: 0 0 0 2px rgba(2, 8, 16, 0.5);
      opacity: 0;
      transition: opacity 160ms ease;
      pointer-events: none;
    }

    .split-line.on {
      opacity: 1;
    }

    .scene-caption {
      margin-top: 0.66rem;
      color: var(--ink-c);
      font: 400 0.8rem "IBM Plex Mono", monospace;
    }

    .charts {
      padding: 1rem;
      display: grid;
      gap: 0.78rem;
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .chart {
      border: 1px solid var(--line);
      border-radius: var(--radius-md);
      overflow: hidden;
      background: rgba(10, 25, 40, 0.8);
    }

    .chart img {
      width: 100%;
      display: block;
      object-fit: cover;
    }

    .chart figcaption {
      margin: 0;
      border-top: 1px solid var(--line);
      padding: 0.55rem 0.65rem;
      color: var(--ink-c);
      font: 600 0.69rem "IBM Plex Mono", monospace;
      text-transform: uppercase;
      letter-spacing: 0.09em;
    }

    .footer {
      margin-top: 0.95rem;
      color: var(--ink-c);
      text-align: right;
      font: 400 0.8rem "IBM Plex Mono", monospace;
    }

    @media (max-width: 980px) {
      .kpis {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .theater {
        grid-template-columns: 1fr;
      }

      .stage {
        min-height: 0;
      }

      .charts {
        grid-template-columns: 1fr;
      }
    }

    @keyframes fade-up {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <main class="page">
    <header class="hero">
      <p class="eyebrow">Commercial Signal Demo</p>
      <h1>See the filter contract, not just hear about it.</h1>
      <p class="lead">
        A single-page surface for design-partner walkthroughs: interactive filter comparison, curated production scenes,
        and attached benchmark evidence from the baseline protocol.
      </p>
      <div class="meta">
        <span>baseline timestamp: 2026-02-25T10:16:06Z</span>
        <span>reference GPU: NVIDIA GeForce RTX 2080</span>
        <span>CUDA runtime: 11.0</span>
        <span>protocol cases: 18</span>
      </div>
      <div class="kpis">
        <article class="kpi">
          <p class="v">0.093 ms</p>
          <div class="l">Best p50 latency</div>
        </article>
        <article class="kpi">
          <p class="v">7,099 MPix/s</p>
          <div class="l">Peak throughput</div>
        </article>
        <article class="kpi">
          <p class="v">681 MPix/s</p>
          <div class="l">Median throughput</div>
        </article>
        <article class="kpi">
          <p class="v">25 MiB cap</p>
          <div class="l">Asset policy gate</div>
        </article>
      </div>
    </header>

    <section class="section">
      <p class="section-head">Signal Theater</p>
      <div class="theater">
        <aside class="control-stack">
          <div class="panel">
            <label class="label">Scene</label>
            <div id="sceneTabs" class="tabs"></div>
          </div>
          <div class="panel">
            <label class="label">View Mode</label>
            <div class="mode-row">
              <button type="button" class="mode active" data-mode="split">Split</button>
              <button type="button" class="mode" data-mode="orig">Original</button>
              <button type="button" class="mode" data-mode="f4">Filter 4</button>
              <button type="button" class="mode" data-mode="f8">Filter 8</button>
              <button type="button" class="mode" data-mode="montage">Montage</button>
            </div>
          </div>
          <div class="panel">
            <label class="label" for="split">Split Position</label>
            <input id="split" type="range" min="0" max="100" value="55">
            <p class="note">In split mode, drag to inspect local differences and edge behavior.</p>
          </div>
          <div class="panel">
            <p class="note" id="sceneNote"></p>
          </div>
        </aside>
        <div>
          <div class="stage">
            <img id="imgOrig" alt="Original image">
            <img id="imgFilter" class="split-layer" alt="Filtered image">
            <div id="splitLine" class="split-line on"></div>
          </div>
          <div id="sceneCaption" class="scene-caption"></div>
        </div>
      </div>
    </section>

    <section class="section">
      <p class="section-head">Benchmark Evidence</p>
      <div class="charts">
        <figure class="chart">
          <img src="../plots/professional/psnr_gain_bar.png" alt="PSNR gain chart">
          <figcaption>Quality Delta</figcaption>
        </figure>
        <figure class="chart">
          <img src="../plots/professional/train_time_bar.png" alt="Train time chart">
          <figcaption>Training Time Impact</figcaption>
        </figure>
        <figure class="chart">
          <img src="../plots/professional/loss_curves.png" alt="Loss curve chart">
          <figcaption>Convergence Profile</figcaption>
        </figure>
      </div>
    </section>

    <p class="footer">launch: <code>python -m http.server 8080</code> then open <code>http://localhost:8080/visual_showcase/</code></p>
  </main>

  <script>
    const scenes = [
      {
        name: "Urban Texture",
        caption: "Dense micro-textures and smooth gradients in the same frame.",
        note: "Use split + F8 to inspect edge lift around beard and hair strands.",
        orig: "assets/0_0_47/0_0_47_orig.webp",
        f4: "assets/0_0_47/0_0_47_f4.webp",
        f8: "assets/0_0_47/0_0_47_f8.webp",
        montage: "assets/0_0_47/0_0_47_montage.webp",
      },
      {
        name: "Street Scene",
        caption: "High-frequency detail with broad luminance transitions.",
        note: "F4 tends to preserve tonality while F8 emphasizes contour transitions.",
        orig: "assets/20220414203414_0_0_120/20220414203414_0_0_120_orig.webp",
        f4: "assets/20220414203414_0_0_120/20220414203414_0_0_120_f4.webp",
        f8: "assets/20220414203414_0_0_120/20220414203414_0_0_120_f8.webp",
        montage: "assets/20220414203414_0_0_120/20220414203414_0_0_120_montage.webp",
      },
      {
        name: "Portrait Profile",
        caption: "Organic lines and mixed low/high contrast regions.",
        note: "Switch between F4 and F8 to compare softness vs sharper local response.",
        orig: "assets/35e66714-0eeb-4530-a303-3f0c9e726037/35e66714-0eeb-4530-a303-3f0c9e726037_orig.webp",
        f4: "assets/35e66714-0eeb-4530-a303-3f0c9e726037/35e66714-0eeb-4530-a303-3f0c9e726037_f4.webp",
        f8: "assets/35e66714-0eeb-4530-a303-3f0c9e726037/35e66714-0eeb-4530-a303-3f0c9e726037_f8.webp",
        montage: "assets/35e66714-0eeb-4530-a303-3f0c9e726037/35e66714-0eeb-4530-a303-3f0c9e726037_montage.webp",
      }
    ];

    const tabs = document.getElementById("sceneTabs");
    const modes = Array.from(document.querySelectorAll(".mode"));
    const split = document.getElementById("split");
    const imgOrig = document.getElementById("imgOrig");
    const imgFilter = document.getElementById("imgFilter");
    const splitLine = document.getElementById("splitLine");
    const sceneNote = document.getElementById("sceneNote");
    const sceneCaption = document.getElementById("sceneCaption");

    let sceneIndex = 0;
    let mode = "split";

    function setActiveMode(next) {
      mode = next;
      modes.forEach((btn) => btn.classList.toggle("active", btn.dataset.mode === mode));
      render();
    }

    function render() {
      const scene = scenes[sceneIndex];
      imgOrig.src = scene.orig;
      const filterKey = mode === "f4" ? "f4" : mode === "montage" ? "montage" : "f8";
      imgFilter.src = scene[filterKey];

      sceneNote.textContent = scene.note;
      sceneCaption.textContent = scene.caption;

      if (mode === "orig") {
        imgOrig.classList.add("on");
        imgFilter.classList.remove("on");
        splitLine.classList.remove("on");
      } else if (mode === "montage") {
        imgOrig.classList.remove("on");
        imgFilter.classList.add("on");
        imgFilter.style.clipPath = "inset(0 0 0 0)";
        splitLine.classList.remove("on");
      } else if (mode === "f4" || mode === "f8") {
        imgOrig.classList.remove("on");
        imgFilter.classList.add("on");
        imgFilter.style.clipPath = "inset(0 0 0 0)";
        splitLine.classList.remove("on");
      } else {
        const v = Number(split.value);
        imgOrig.classList.add("on");
        imgFilter.classList.add("on");
        imgFilter.style.clipPath = `inset(0 ${100 - v}% 0 0)`;
        splitLine.style.left = `${v}%`;
        splitLine.classList.add("on");
      }
    }

    scenes.forEach((scene, index) => {
      const btn = document.createElement("button");
      btn.type = "button";
      btn.className = "tab" + (index === 0 ? " active" : "");
      btn.textContent = scene.name;
      btn.addEventListener("click", () => {
        sceneIndex = index;
        Array.from(tabs.children).forEach((el, i) => el.classList.toggle("active", i === sceneIndex));
        render();
      });
      tabs.append(btn);
    });

    modes.forEach((btn) => btn.addEventListener("click", () => setActiveMode(btn.dataset.mode)));
    split.addEventListener("input", render);

    render();
  </script>
</body>
</html>
